    CREATE TABLE {{Schema}}.{{TableName}}_Attributes (
        HashKey uniqueidentifier NOT NULL
        , SchoolYearContext int NOT NULL
        {{^IsAggregateRoot}}
        -- Identifying references
        {{#IdentifyingReferences}}
            {{#Column}}
        , {{ColumnName}} {{DataType}} {{^IsNullable}}NOT {{/IsNullable}}NULL
            {{/Column}}
        {{/IdentifyingReferences}}
        -- Contextual primary key
        {{/IsAggregateRoot}}
        {{#ContextualPrimaryKeyColumns}}
        , {{ColumnName}} {{DataType}} {{^IsNullable}}NOT {{/IsNullable}}NULL
        {{/ContextualPrimaryKeyColumns}}
        {{#HasNonKeyColumns}}
        -- Attributes
        {{/HasNonKeyColumns}}
        {{#NonKeyColumns}}
        , {{ColumnName}} {{DataType}} {{^IsNullable}}NOT {{/IsNullable}}NULL
        {{/NonKeyColumns}}
        {{#HasReferences}}
        -- References
        {{/HasReferences}}
        {{#References}}
            {{#Column}}
        , {{ColumnName}} {{DataType}} {{^IsNullable}}NOT {{/IsNullable}}NULL
            {{/Column}}
        {{/References}}
        -- Boilerplate
        {{#BoilerplateColumns}}
        , {{ColumnName}} {{DataType}} {{^IsNullable}}NOT {{/IsNullable}}NULL
        {{/BoilerplateColumns}}
        -- Constraints
        , CONSTRAINT {{TableName}}_Attributes_PK PRIMARY KEY CLUSTERED (
            HashKey ASC
            , SchoolYearContext ASC
        {{#ContextualPrimaryKeyColumns}}
            , {{ColumnName}} ASC -- Contextual PK column
        {{/ContextualPrimaryKeyColumns}}
        ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
        ) ON [PRIMARY]
    GO